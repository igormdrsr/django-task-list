<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tasks</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-3xl font-bold text-center text-gray-700 py-4">Task List</h1>
    <form method="POST" class="space-y-2 p-2">
      {% csrf_token %}
      <div>
        <label for="title" class="text-md font-semibold text-gray-700">{{ form.title.label }}</label>
        <input type="text" name="title" id="title" class="mt-1 w-full border-2 rounded-xs border-slate-300 px-2 py-1" placeholder="Comprar ingredientes..."/>
      </div>
      <div>
        <label for="description" class="text-md font-semibold text-gray-700">{{ form.description.label }}</label>
        <textarea name="description" id="description" rows="3"
          class="mt-1 w-full border-2 rounded-xs border-slate-300 px-2 py-1" placeholder="Descreva a tarefa..."></textarea>
      </div>

      <div>
        <label for="title" class="text-md font-semibold text-gray-700">{{ form.category.label }}</label>
        <input type="text" name="category" id="category"
          class="mt-1 w-full border-2 rounded-xs border-slate-300 px-2 py-1" placeholder="Trabalho, Pessoal..."/>
      </div>

      <button type="submit"
        class="rounded-[.25rem] bg-lime-500 hover:bg-lime-600 transition-colors px-4 py-2 text-white font-semibold cursor-pointer">
        Adicionar
      </button>
    </form>
    <ul class="space-y-4 mt-6">
      {% for task in tasks %}
      <li class="bg-white rounded-[.25rem] shadow-sm p-5 flex justify-between items-start">
        <div>
          <h3 class="text-lg font-semibold text-gray-800">
            {{ task.title }}
          </h3>

          <p class="text-gray-600 text-sm mt-1">
            {{ task.description }}
          </p>

          <div class="flex items-center gap-4 mt-3 text-sm">
            <span class="text-gray-500">
              {{ task.category }}
            </span>

            {% if task.is_done %}
            <span class="text-green-600 font-medium flex items-center gap-1">
              ✅ Concluída
            </span>
            {% else %}
            <span class="text-yellow-600 font-medium flex items-center gap-1">
              ⏳ Pendente
            </span>
            {% endif %}
          </div>
        </div>

      </li>
      {% empty %}
      <p class="text-gray-500">Nenhuma tarefa cadastrada.</p>
      {% endfor %}
    </ul>
  </div>
</body>

</html>